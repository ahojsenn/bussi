import{H as i}from"./types.9c14c63d.js";import{J as u,j as p,K as c,G as g}from"./entry.4a8729cb.js";import{P as l}from"./papaparse.min.3ebadafe.js";function m(){const a=u();return a._appConfig||(a._appConfig=p(c)),a._appConfig}const d=m(),f="https://docs.google.com/spreadsheets/d/",h=f+d.GKEY,n=h,k=a=>{const r=new Promise(function(o,s){l.parse(a,{download:!0,header:!0,skipEmptyLines:!0,complete:o,error:s})});return console.log("hauptbuch.getDataFromGoogle: ",r),r},G="/gviz/tq?tqx=out:csv",_="/edit#gid=1543409034",w=n+G,C=a=>a.indexOf("€")>0?a:parseFloat(a==""?"0":a)+" €",N=g("hauptbuch",{state:()=>({bookings:[],_url:n+_}),actions:{async loadBussiData(a){let o=(await k(w)).data.map((t,e)=>(t.rowNr=e,t));Number(a)&&(o=o.filter(t=>t.Datum.substring(0,4)===a));const s=(t,e)=>'<a target="_blank" href='+this._url+"#range="+(e+2)+":"+(e+2)+">"+t+"</a>";this.bookings=o.map(t=>new i(s(t.rowNr,t.rowNr),t.Datum,t.Wer,t["km (Endstand)"],t["Liter getankt"],t.Benzinpreis,C(t.Betrag),t.Was,t["V-Schlüssel"],t.km,t["km seit letzter Tankung"],t["Verbrauch/l"]))}},getters:{url:a=>a._url}});export{n as U,N as u};
