import{H as u}from"./types.9c14c63d.js";import{G as i}from"./entry.c67d78e3.js";import{P as c}from"./papaparse.min.96047ca9.js";import{u as g}from"./config.946f49aa.js";const l=g(),p="https://docs.google.com/spreadsheets/d/",m=p+l.GKEY,n=m,d=o=>{const r=new Promise(function(a,s){c.parse(o,{download:!0,header:!0,skipEmptyLines:!0,complete:a,error:s})});return console.log("hauptbuch.getDataFromGoogle: ",r),r},h="/gviz/tq?tqx=out:csv",f="/edit#gid=1543409034",k=n+h,G=o=>o.indexOf("€")>0?o:parseFloat(o==""?"0":o)+" €",B=i("hauptbuch",{state:()=>({bookings:[],_url:n+f}),actions:{async loadBussiData(o){let a=(await d(k)).data.map((t,e)=>(t.rowNr=e,t));Number(o)&&(a=a.filter(t=>t.Datum.substring(0,4)===o));const s=(t,e)=>'<a target="_blank" href='+this._url+"#range="+(e+2)+":"+(e+2)+">"+t+"</a>";this.bookings=a.map(t=>new u(s(t.rowNr,t.rowNr),t.Datum,t.Wer,t["km (Endstand)"],t["Liter getankt"],t.Benzinpreis,G(t.Betrag),t.Was,t["V-Schlüssel"],t.km,t["km seit letzter Tankung"],t["Verbrauch/l"]))}},getters:{url:o=>o._url}});export{n as U,B as u};
