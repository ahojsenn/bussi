import{H as u}from"./types.9c14c63d.js";import{d as i}from"./entry.8de47bc7.js";import{P as c}from"./papaparse.min.23b9f094.js";import{U as n}from"./url.3a8f7686.js";const l=a=>{const e=new Promise(function(r,s){c.parse(a,{download:!0,header:!0,skipEmptyLines:!0,complete:r,error:s})});return console.log("hauptbuch.getDataFromGoogle: ",e),e},m="/gviz/tq?tqx=out:csv",g="/edit#gid=1543409034",p=n+m,d=a=>a.indexOf("€")>0?a:parseFloat(a==""?"0":a)+" €",D=i("hauptbuch",{state:()=>({bookings:[],_url:n+g}),actions:{async loadBussiData(a){let r=(await l(p)).data.map((t,o)=>(t.rowNr=o,t));Number(a)&&(r=r.filter(t=>t.Datum.substring(0,4)===a));const s=(t,o)=>'<a target="_blank" href='+this._url+"#range="+(o+2)+":"+(o+2)+">"+t+"</a>";this.bookings=r.map(t=>new u(s(t.rowNr,t.rowNr),t.Datum,t.Wer,t["km (Endstand)"],t["Liter getankt"],t.Benzinpreis,d(t.Betrag),t.Was,t["V-Schlüssel"],t.km,t["km seit letzter Tankung"],t["Verbrauch/l"]))}},getters:{url:a=>a._url}});export{D as u};
